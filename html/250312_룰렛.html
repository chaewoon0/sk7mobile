<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no">
<link rel="shortcut icon" href="../asset/img/ico_favicon.ico">
<title>sk7mobile</title>
<!-- css -->
<link rel="stylesheet" type="text/css" href="../asset/css_220215/vendor/swiper.min.css">
<link rel="stylesheet" type="text/css" href="../asset/css_220215/common/base.css">
</head>


<body>

<nav>
	<a href="#ct" class="skip sr-only sr-only-focusable">본문 내용 바로가기</a>
</nav>


<!-- wrap -->
<div id="wrap">
	<!-- Header -->
	<header id="hd">
		<div class="container">
			<h1 class="hd-logo"><a href=""><img src="../asset/img/logo.png" alt=""><span class="sr-only">SK 7mobile</span></a></h1>
		</div>
	</header>
	<!-- //Header -->

	<!-- Container -->
	<div id="ct">

<!-- 페이지 시작 -->

<section class="sect">
	<div class="container">
		<div class="heading-depth1">
			<h2 class="title">진행 이벤트</h2>
		</div>
		<div class="bbs-view">
			<div class="view-head">
				<strong class="title">룰렛 이벤트</strong>
				<p class="date">기간 2025-01-01 ~ 2025-12-31</p>
				<ul class="sns">
					<li><a href="/"><i class="icon-ka"><span class="sr-only">카카오톡 공유</span></i></a></li>
					<li><a href="/"><i class="icon-fb"><span class="sr-only">페이스북 공유</span></i></a></li>
					<li><a href="/"><i class="icon-tw"><span class="sr-only">트위터 공유</span></i></a></li>
					<li><a href="/"><i class="icon-url"><span class="sr-only">URL 공유</span></i></a></li>
				</ul>
			</div>
			<div class="view-body">
				<img src="images/roulette/roulette_top.jpg" alt="">
				<div class="roulette pt-2">
                    <div class="roulette-container">
                        <div class="roulette-wrap">
                            <div class="roulette-circle-wrap">
                                <div class="roulette-circle" id="roulette">
                                    <img class="roulette-circle-img" src="images/roulette/roulette_4_edit.png" alt="">
                                </div>
                            </div>
                            <img class="roulette-marker" src="images/roulette/roulette_arrow.png" alt="">
                            <div class="roulette-start-btn-wrap">
                                <button class="roulette-start-btn" id="spinButton" onclick="toggleRoulette()">
                                    <img class="btn-start-img" src="images/roulette/roulette_start_btn.png" alt="">
                                    <img class="btn-stop-img" src="images/roulette/roulette_stop_btn.png" alt="">
                                </button>
                            </div>
                            <img class="roulette-background" src="images/roulette/roulette_bg.png" alt="">
                        </div>
                    </div>
                </div>

				<!-- modal -->
				<div class="modal fade modal-md modal-roulette">
					<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
						<div class="modal-content">
							<div class="modal-head">
								<h1 class="title">안내</h1>
							</div>
							<div class="modal-body">
								<div class="modal-roulette-wp">
									<div class="modal-roulette-img-wrap">
										<img class="modal-roulette-img" src="images/roulette/shinsegae.png" alt="">
										<img class="modal-roulette-img-bg" src="images/roulette/party_popper_bg.png" alt="">
									</div>
									<div class="modal-roulette-text-wrap">
										<div class="text-top">
											<p>
												<span>축하합니다!</span>
												<img src="images/roulette/party_popper.png" alt="">
											</p>
											<p>
												<span class="text-primary" id="rouletteItem">신세계상품권 10만원</span> 에 당첨되었습니다.
											</p>
										</div>
										<div class="text-bottom mt-4">
											당첨된 경품은 선착순 지급으로<br>
											<span class="text-primary">~12/10(화)</span> 까지 개통까지 완료 시<br>
											<span class="text-primary">2/20(목)</span> 에 모바일상품권으로 지급됩니다.
										</div>
										<div class="text-bottom mt-4">
											자세한 내용은 이벤트 하단 유의사항을 확인하세요.
										</div>
									</div>
								</div>
							</div>
							<div class="modal-foot">
								<span><button type="button" class="btn btn-primary" data-dismiss="modal">확인</button></span>
							</div>
							<button type="button" class="btn-close" data-dismiss="modal">닫기</button>
						</div>
					</div>
				</div>
				<!-- //modal -->


			</div>
		</div>
		<div class="btn-wrap">
			<span>
				<a href="/" class="btn btn-primary btn-lg">목록</a>
			</span>
		</div>

	</div>

</section>

<!-- //페이지 끝-->

	</div>
	<!-- //Container -->


	<!-- Footer -->
	<footer id="ft">
		<div class="container">
			<div class="ft-top">
				<p class="ft-text">모바일 가치소비의 시작 <img src="../asset/img/logo.png" alt="sk7mobile"></p>
				<dl class="font-weight-normal">
					<dt class="font-weight-normal">휴대폰 이용상담문의 :</dt>
					<dd>114(무료)/1599-0999(유료), 평일 09:00~18:00(토/일요일 및 공휴일 제외.) </dd>
					<dt class="font-weight-normal">휴대폰 구매관련문의 : </dt>
					<dd>1599-3508(유료), 평일 10:00~18:00 (토/일요일 및 공휴일 제외.) </dd>
				</dl>
			</div>
			<hr>
			<ul class="fnb">
				<li><a href="">회사소개</a></li>
				<li><a href="">이용약관</a></li>
				<li><a href="" class="text-primary font-weight-normal">개인정보처리방침</a></li>
				<li><a href="">개인정보이용내역조회</a></li>
				<li><a href="">통신자료제공사실 열람신청</a></li>
				<li><a href="">이메일무단수집거부</a></li>
				<li><a href="">분쟁처리절차</a></li>
				<li><a href="">책임의 한계와 법적고지</a></li>
				<li><a href="">불법스팸대응센터</a></li>
				<li><a href="">명의도용방지서비스</a></li>
				<li><a href="">해지미환급금 조회/환불</a></li>
				<li><a href="">법인회선개통문의</a></li>
			</ul>
			<div class="ft-bottom">
				<div>(04637) 서울특별시 중구 퇴계로24 (남대문5가) SK남산빌딩 사장  최영석 <br class="d-lg-none">사업자번호 : 104-81-43391 통신 판매번호:2010-서울중구-0518</div>
				<p class="copy">COPYRIGHT© SK TELINK CO.LTD. ALL RIGHTS RESERVED.</p>
				<ul class="nav justify-content-center">
					<li class="nav-item"><a href="" class="icon-sns-fb" target="_blank">sk7mobile facebook 바로가기</a></li>
					<li class="nav-item"><a href="" class="icon-sns-blog" target="_blank">sk7mobile blog 바로가기</a></li>
					<li class="nav-item"><a href="" class="icon-sns-ytb" target="_blank">sk7mobile youtube 바로가기</a></li>
				</ul>
			</div>
		</div>
	</footer>
	<!-- //Footer -->
</div>
<!-- //wrap -->


<!-- js -->
<script src="../asset/js/vendor/vendor.min.js"></script>
<script src="../asset/js/vendor/swiper.jquery.min.js"></script>
<script src="../asset/js/common/public.js"></script>

<script>
    let spinning = false;
    let animating = false;
    let spinInterval;
    let rotation = 0;
    let speed = 0;
    let numSegments = 4; // 결과값 개수 (2, 4, 6, 8 중 하나로 설정)

    function getCurrentRotation(element) {
        const style = window.getComputedStyle(element);
        const matrix = new DOMMatrixReadOnly(style.transform);
        const angle = Math.round(Math.atan2(matrix.b, matrix.a) * (180 / Math.PI));
        return (angle < 0 ? angle + 360 : angle) % 360;
    }

    function toggleRoulette() {
        if (animating) return; // 애니메이션 중일 때 버튼 클릭 방지
        
        const roulette = document.getElementById('roulette');
        const button = document.getElementById('spinButton');
        const angleStep = 360 / numSegments;
        
        if (!spinning) {
            spinning = true;
            button.classList.add('stop');
            speed = 10; // 초기 속도
            spinInterval = setInterval(() => {
                rotation += speed;
                roulette.style.transform = `rotate(${rotation}deg)`;
                if (speed < 40) { // 최대 속도
                    speed += 1;
                }
            }, 30); // 회전 간격
        } else {
            clearInterval(spinInterval);
            spinning = false;
            animating = true;
            button.disabled = true; // 버튼 비활성화
            
            let currentRotation = getCurrentRotation(roulette);
            let targetIndex = Math.floor(Math.random() * numSegments); // 0~(numSegments-1) 랜덤
            let targetRotation = targetIndex * angleStep;
            
            // 현재 회전각보다 높은 값에서 멈추도록
            while (targetRotation <= currentRotation) {
                targetRotation += 360;
            }
            
            let overshoot = 30; // 목표 지점을 살짝 넘기는 값
            let finalRotation = rotation + (targetRotation - (rotation % 360)) + overshoot;
            let stopTime = Math.max(2, speed / 8 + 2); // 현재 속도에 비례한 정지 시간 증가
            
            // 속도가 유지되다가 마지막에 천천히 멈추도록 cubic-bezier 설정
            roulette.style.transition = `transform ${stopTime}s cubic-bezier(0.25, 1, 0.7, 1)`;
            roulette.style.transform = `rotate(${finalRotation}deg)`;
            
            setTimeout(() => {
                let correctedRotation = finalRotation - overshoot;
                roulette.style.transition = "transform 2s ease-in-out";
                roulette.style.transform = `rotate(${correctedRotation}deg)`;
                roulette.setAttribute("data-result", targetIndex + 1);
                
                setTimeout(() => {
                    button.classList.remove('stop');
                    // console.log("결과:", targetIndex + 1);
                    animating = false;
                    $('.modal-roulette').modal('show');
                }, 2000);
            }, stopTime * 1000);
        }
    }
</script>

</body>
</html>
